# PropertyTracker Configuration
# Copy to config.yml and fill in your values

# ===================
# PERSONAL FINANCIAL INPUTS
# ===================
savings:
  current_balance: 150000
  monthly_contribution: 5000

# PPOR (Wollstonecraft unit to sell)
ppor:
  debt: 925660  # Current loan balance
  selling_cost_rate: 0.02  # Agent fees, legals, etc.

# Investment Property (Revesby)
investment_property:
  address: "11 Alliance Ave, Revesby NSW 2212"
  debt: 1476000  # Current loan balance (interest-only)
  refinance_lvr_cap: 0.80  # Can only extract equity up to 80% LVR
  valuation_haircut:
    bear: 0.90  # Conservative valuation
    base: 0.95  # Expected valuation
    bull: 1.00  # Optimistic valuation

# ===================
# SEGMENT DEFINITIONS
# ===================
# Define market segments to track. Each segment has:
# - display_name: Human-readable name shown in reports
# - suburbs: List of suburbs (lowercase) to include
# - property_type: 'house' or 'unit'
# - role: 'proxy' (your assets) or 'target' (what you want to buy)
# - filters: Optional filters for area_min/area_max (sqm) and streets
# - description: Optional explanation shown in reports

segments:
  # Your Properties (Proxies)
  revesby_houses:
    display_name: "Revesby Houses (IP)"
    suburbs: [revesby, revesby heights]
    property_type: house
    role: proxy
    filters:
      area_min: 500  # sqm - matches your IP land size
      area_max: 600
    description: "500-600sqm land, comparable to your IP"
    # Comparables review settings
    require_manual_review: true
    auto_exclude:
      non_r2_zoning: true
      year_built_after: 2010
      keywords: [duplex, dual occ, torrens, brand new, just completed]

  wollstonecraft_units:
    display_name: "Wollstonecraft Units (PPOR)"
    suburbs: [wollstonecraft]
    property_type: unit
    role: proxy
    filters:
      streets: [lamont st, milner cres, shirley rd]  # Streets near your unit
    description: "Units near Lamont St, comparable to your PPOR"

  # Target Markets (Houses only)
  lane_cove_houses:
    display_name: "Lane Cove Houses"
    suburbs: [lane cove, lane cove north, lane cove west]
    property_type: house
    role: target
    description: "Primary target - forever home"

  chatswood_houses:
    display_name: "Chatswood Houses"
    suburbs: [chatswood, chatswood west]
    property_type: house
    role: target
    description: "Alternative target"

# ===================
# GAP TRACKER CONFIG
# ===================
# Defines how to calculate if your combined assets are catching up to target

gap_tracker:
  # Which segments contribute to your purchasing power?
  # These are summed to calculate combined asset growth
  proxy_segments:
    - revesby_houses       # IP equity
    - wollstonecraft_units # PPOR sale proceeds

  # Which segment is your primary target?
  target_segment: lane_cove_houses

  # Secondary comparison (optional, for context)
  secondary_target: chatswood_houses

# ===================
# REPORT DISPLAY
# ===================
report:
  # What to show in "Your Properties" section
  show_proxies: [revesby_houses, wollstonecraft_units]

  # What to show in "Target Markets" section
  show_targets: [lane_cove_houses, chatswood_houses]

  # Add inline explanations of what each segment means?
  include_explanations: true

  # Show recent sales in report for transparency?
  show_recent_sales: true

  # Report title
  title: "PropertyTracker Report"

# ===================
# DATA SOURCE
# ===================
data:
  source: "nswpropertysalesdata"
  districts:
    - 108  # Canterbury-Bankstown (Revesby)
    - 118  # North Sydney (Wollstonecraft)
    - 87   # Lane Cove
    - 145  # Willoughby (Chatswood)

# ===================
# ALERTING
# ===================
telegram:
  enabled: true

# ===================
# THRESHOLDS
# ===================
thresholds:
  min_sample_monthly: 3
  min_sample_quarterly: 5
  min_sample_6month: 8
  gap_alert_threshold: 20000
  outlier_low_pct: 50
  outlier_high_pct: 200

# ===================
# PURCHASE COSTS
# ===================
# Legal fees, conveyancing, inspections, etc.
purchase_costs:
  rate: 0.01  # 1% of purchase price (default)

# ===================
# ENRICHMENT
# ===================
# Auto-enrichment settings for comparable review workflow
enrichment:
  domain_api_key: ${DOMAIN_API_KEY}  # Optional: Domain API key for year built lookup

# ===================
# SCHEDULE
# ===================
schedule:
  frequency: fortnightly  # monthly | fortnightly | weekly
  timezone: Australia/Sydney
